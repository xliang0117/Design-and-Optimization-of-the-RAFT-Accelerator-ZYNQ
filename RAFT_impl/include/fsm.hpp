#ifndef FSM_H
#define FSM_H

#include "convolution.hpp"
void conv_hw(HALF8 *fm, HALF16 *weight_ddr, half *corr);

static struct layer_fm config_ext[2][16] = {
    {{"EA-3 ",       0     , 393729, false},         //0
    {"EA-1 ",       393729, 442881, true },         //1
    {"EP1  ",       442881, 762369, false},         //2
    {"EE   ",       442881, 639489, true },         //3
    {"EF-3 ",       639232, 737793, false},         //4
    {"EF-1 ",       737793, 639489, true },         //5
    {"EG   ",       639489, 664065, true },         //6
    {"ER   ",       762369, 393729, false},         //7
    {"EP2  ",       393729, 584193, false},         //8
    {"EH   ",       393729, 492033, true },         //9
    {"EI-3 ",       491904, 528897, false},         //10
    {"EI-1 ",       528897, 538113, true },         //11
    {"EJ   ",       538113, 547329, true },         //12
    {"ER2  ",       584193, 621057, false},         //13
    {"EK   ",       621057, 860673, false},         //14
    {"NULL ",       620544, 860160, false}},        //15

    {{"CA-3 ",       196608, 393729, false},         //0
    {"CA-1 ",       393729, 442881, true },         //1
    {"CE   ",       442881, 639489, false},         //2
    {"CF-3 ",       639232, 737793, true },         //3
    {"CF-1 ",       737793, 639489, false},         //4
    {"CG   ",       639489, 664065, true },         //5
    {"CP   ",       442881, 762369, true },         //6
    {"CR   ",       762369, 393729, false},         //7
    {"CH   ",       393729, 492033, false},         //8
    {"CI-3 ",       491904, 528897, true },         //9
    {"CI-1 ",       528897, 538113, false},         //10
    {"CJ   ",       538113, 547329, true },         //11
    {"CP2  ",       393729, 584193, true },         //12
    {"CR2  ",       584193, 621057, false},         //13
    {"Cinp ",       621057, 581121, false},         //14
    {"Cnet ",       621057, 544257, false}}         //15
    };

static struct layer_weight config_extw[2][16] = 
{   //  name,       3x3,    1x1     bn
    {{"EA-3",        0   ,   0   ,   0   }, //0
    {"EA-1",        0   ,   11  ,   9   }, //1
    {"EP1 ",        0   ,   27  ,   0   }, //2
    {"EE  ",        0   ,   157 ,   155 }, //3
    {"EF-3",        221 ,   0   ,   0   }, //4
    {"EF-1",        0   ,   241 ,   239 }, //5
    {"EG  ",        0   ,   277 ,   273 }, //6
    {"ER  ",        0   ,   341 ,   0   }, //7
    {"EP2 ",        0   ,   341 ,   0   }, //8
    {"EH  ",        0   ,   727 ,   725 }, //9
    {"EI-3",        855 ,   0   ,   0   }, //10
    {"EI-1",        0   ,   893 ,   891 }, //11
    {"EJ  ",        0   ,   963 ,   957 }, //12
    {"ER2 ",        0   ,   1155,   0   }, //13
    {"EK  ",        0   ,   1155,   0   },
    {"NULL",        0   ,   1731,   0   }},//14

    {{"CA-3",        1731,   0   ,   0   }, //0
    {"CA-1",        0   ,   1742,   1740}, //1
    {"CE  ",        0   ,   1758,   0   }, //2
    {"CF-3",        1822,   0   ,   1840}, //3
    {"CF-1",        0   ,   1842,   0   }, //4
    {"CG  ",        0   ,   1878,   1874}, //5
    {"CP  ",        0   ,   1946,   1942}, //6
    {"CR  ",        0   ,   2074,   0   }, //7
    {"CH  ",        0   ,   2074,   0   }, //8
    {"CI-3",        2202,   0   ,   2238}, //9
    {"CI-1",        0   ,   2240,   0   }, //10
    {"CJ  ",        0   ,   2310,   2304}, //11
    {"CP2 ",        0   ,   2508,   2502}, //12
    {"CR2 ",        0   ,   2892,   0   }, //13
    {"Cinp",        0   ,   2892,   0   }, //14
    {"Cnet",        0   ,   3276,   0   }} //15
};

static struct layer_fm config_corr[4] = {
    {"Corr1",       897537, 934401 ,        false},         //8
    {"Corr2",       897537, 2114049,        false},         //9
    {"Corr3",       897537, 2408961,        false},         //10
    {"Corr4",       897537, 2482689,        false},         //11
};

static struct layer_fm config_iter[9] = {
{"A    ",       393729 ,        470529 ,        false},         //0
{"B    ",       636352 ,        519681 ,        true },         //1
{"C    ",       519616 ,        507393 ,        true },         //2
{"D    ",       470464 ,        605697 ,        true },         //3
{"E    ",       544192 ,        639489 ,        false},         //4
{"F    ",       544192 ,        676353 ,        false},         //5
{"G    ",       581056 ,        544257 ,        false},         //6
{"H    ",       544192 ,        713217 ,        true },         //7
{"I    ",       713152 ,        636417 ,        false},         //8
};

static struct layer_weight config_iterw[10] = {
{"A   ",        0   ,   3852,   0   }, //0
{"B   ",        5052,   5061,   0   }, //1
{"C   ",        5093,   5165,   0   }, //2
{"D   ",        5293,   5437,   0   }, //3
{"E   ",        6205,   6484,   0   }, //4
{"F   ",        7972,   8251,   0   }, //5
{"G   ",        9739,   10018,  0   }, //6
{"H   ",        11506,  11614,  0   }, //7
{"I   ",        12190,  12334,  0   }, //8
{"Null",        12526,  12526,  0   }, //9

};

#endif